# Template file for 'libimobiledevice-glue'
pkgname=libimobiledevice-glue
version=1.3.2
revision=1
build_style=gnu-configure
hostmakedepends="automake libtool pkgconf"
makedepends="libplist-devel"
short_desc="Common code used by libimobiledevice projects"
maintainer="al20ov <nicolas.antauf@gmail.com>"
license="LGPL-2.1-only"
homepage="https://libimobiledevice.org"
changelog="https://raw.githubusercontent.com/libimobiledevice/libimobiledevice-glue/master/NEWS"
distfiles="https://github.com/libimobiledevice/libimobiledevice-glue/archive/refs/tags/${version}.tar.gz"
checksum=1f780f40797e84ee60840a47d828f390071a0fb30501cb9ea092c2e8be6a874d

pre_configure() {
	echo $version > .tarball-version
	autoreconf -fi
}

libimobiledevice-glue-devel_package() {
	short_desc+=" - development files"
	depends="${makedepends} ${sourcepkg}>=${version}_${revision}"
	pkg_install() {
		vmove usr/include
		vmove usr/lib/*.so
		vmove usr/lib/*.a
		vmove usr/lib/pkgconfig
	}
}
